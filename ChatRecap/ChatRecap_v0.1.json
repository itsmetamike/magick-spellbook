{
    "id": "fef13d32-d85c-411d-977b-36b3fd7d2e21",
    "name": "ChatRecap_v0.1",
    "projectId": "clkre4esn0003l308gyxc1lvb",
    "hash": "3b5a9c73eb1512aabd6da8fb02d7495d",
    "createdAt": "1690839448441",
    "updatedAt": "1690903140878",
    "creatorId": null,
    "graph": {
        "id": "demo@0.1.0",
        "nodes": {
            "233": {
                "id": 233,
                "data": {
                    "name": "Output - Discord (Text)",
                    "error": false,
                    "success": false,
                    "isOutput": true,
                    "socketKey": "0f17a35e-1380-428b-bc87-4a38d207fefc",
                    "outputType": "Discord (Text)",
                    "dataControls": {
                        "name": {
                            "expanded": true
                        }
                    },
                    "sendToPlaytest": true
                },
                "inputs": {
                    "trigger": {
                        "connections": [
                            {
                                "node": 644,
                                "output": "trigger",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "input": {
                        "connections": [
                            {
                                "node": 644,
                                "output": "result",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "event": {
                        "connections": []
                    }
                },
                "outputs": {
                    "trigger": {
                        "connections": []
                    },
                    "output": {
                        "connections": []
                    }
                },
                "position": [
                    2768,
                    928
                ],
                "name": "Output"
            },
            "242": {
                "id": 242,
                "data": {
                    "name": "Input - Discord (Text)",
                    "isInput": true,
                    "success": false,
                    "inputName": "Default",
                    "inputType": "Discord (Text)",
                    "socketKey": "fbe27171-4ba6-4992-819f-a11ba64a44b5"
                },
                "inputs": {},
                "outputs": {
                    "output": {
                        "connections": [
                            {
                                "node": 243,
                                "input": "event",
                                "data": {
                                    "hello": "hello"
                                }
                            },
                            {
                                "node": 587,
                                "input": "event",
                                "data": {
                                    "hello": "hello"
                                }
                            },
                            {
                                "node": 634,
                                "input": "event",
                                "data": {
                                    "hello": "hello"
                                }
                            },
                            {
                                "node": 661,
                                "input": "event",
                                "data": {
                                    "hello": "hello"
                                }
                            },
                            {
                                "node": 662,
                                "input": "event",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "trigger": {
                        "connections": [
                            {
                                "node": 243,
                                "input": "trigger",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    }
                },
                "position": [
                    -400,
                    448
                ],
                "name": "Input"
            },
            "243": {
                "id": 243,
                "data": {
                    "success": false,
                    "socketKey": "66a9f5d3-47fd-46aa-bd18-0af684577bbc"
                },
                "inputs": {
                    "trigger": {
                        "connections": [
                            {
                                "node": 242,
                                "output": "trigger",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "event": {
                        "connections": [
                            {
                                "node": 242,
                                "output": "output",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    }
                },
                "outputs": {
                    "trigger": {
                        "connections": [
                            {
                                "node": 635,
                                "input": "trigger",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "agentId": {
                        "connections": []
                    },
                    "content": {
                        "connections": [
                            {
                                "node": 614,
                                "input": "message",
                                "data": {
                                    "hello": "hello"
                                }
                            },
                            {
                                "node": 635,
                                "input": "string",
                                "data": {
                                    "hello": "hello"
                                }
                            },
                            {
                                "node": 665,
                                "input": "input",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "client": {
                        "connections": []
                    },
                    "channel": {
                        "connections": []
                    },
                    "channelType": {
                        "connections": []
                    },
                    "connector": {
                        "connections": []
                    },
                    "entities": {
                        "connections": []
                    },
                    "projectId": {
                        "connections": []
                    },
                    "observer": {
                        "connections": []
                    },
                    "sender": {
                        "connections": [
                            {
                                "node": 614,
                                "input": "username",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "embedding": {
                        "connections": []
                    },
                    "rawData": {
                        "connections": []
                    }
                },
                "position": [
                    -400,
                    704
                ],
                "name": "Event Destructure"
            },
            "587": {
                "id": 587,
                "data": {
                    "type": "conversation",
                    "error": false,
                    "success": false
                },
                "inputs": {
                    "trigger": {
                        "connections": [
                            {
                                "node": 614,
                                "output": "trigger",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "content": {
                        "connections": [
                            {
                                "node": 614,
                                "output": "prompt",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "event": {
                        "connections": [
                            {
                                "node": 242,
                                "output": "output",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "embedding": {
                        "connections": []
                    },
                    "type": {
                        "connections": []
                    }
                },
                "outputs": {
                    "trigger": {
                        "connections": []
                    }
                },
                "position": [
                    1216,
                    608
                ],
                "name": "Store Event"
            },
            "613": {
                "id": 613,
                "data": {
                    "_var": ": ",
                    "success": false,
                    "isPublic": false
                },
                "inputs": {},
                "outputs": {
                    "output": {
                        "connections": [
                            {
                                "node": 614,
                                "input": "separator",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    }
                },
                "position": [
                    400,
                    608
                ],
                "name": "String Variable"
            },
            "614": {
                "id": 614,
                "data": {
                    "inputs": [
                        {
                            "name": "message",
                            "taskType": "output",
                            "socketKey": "message",
                            "socketType": "anySocket",
                            "connectionType": "input"
                        },
                        {
                            "name": "separator",
                            "taskType": "output",
                            "socketKey": "separator",
                            "socketType": "anySocket",
                            "connectionType": "input"
                        },
                        {
                            "name": "username",
                            "taskType": "output",
                            "socketKey": "username",
                            "socketType": "anySocket",
                            "connectionType": "input"
                        }
                    ],
                    "fewshot": "{{username}}{{separator}}{{message}}",
                    "success": false
                },
                "inputs": {
                    "message": {
                        "connections": [
                            {
                                "node": 243,
                                "output": "content",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "separator": {
                        "connections": [
                            {
                                "node": 613,
                                "output": "output",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "username": {
                        "connections": [
                            {
                                "node": 243,
                                "output": "sender",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "trigger": {
                        "connections": [
                            {
                                "node": 635,
                                "output": "false",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    }
                },
                "outputs": {
                    "trigger": {
                        "connections": [
                            {
                                "node": 587,
                                "input": "trigger",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "prompt": {
                        "connections": [
                            {
                                "node": 587,
                                "input": "content",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    }
                },
                "position": [
                    784,
                    608
                ],
                "name": "Text Template"
            },
            "634": {
                "id": 634,
                "data": {
                    "name": "25",
                    "type": "conversation",
                    "success": false,
                    "max_count": "50",
                    "socketKey": null
                },
                "inputs": {
                    "embedding": {
                        "connections": []
                    },
                    "trigger": {
                        "connections": [
                            {
                                "node": 665,
                                "output": "recap25",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "event": {
                        "connections": [
                            {
                                "node": 242,
                                "output": "output",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "type": {
                        "connections": []
                    }
                },
                "outputs": {
                    "trigger": {
                        "connections": [
                            {
                                "node": 641,
                                "input": "trigger",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "events": {
                        "connections": [
                            {
                                "node": 666,
                                "input": "input",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    }
                },
                "position": [
                    784,
                    880
                ],
                "name": "Event Recall"
            },
            "635": {
                "id": 635,
                "data": {
                    "fewshot": "recap",
                    "success": false
                },
                "inputs": {
                    "string": {
                        "connections": [
                            {
                                "node": 243,
                                "output": "content",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "trigger": {
                        "connections": [
                            {
                                "node": 243,
                                "output": "trigger",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    }
                },
                "outputs": {
                    "true": {
                        "connections": [
                            {
                                "node": 665,
                                "input": "trigger",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "false": {
                        "connections": [
                            {
                                "node": 614,
                                "input": "trigger",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    }
                },
                "position": [
                    16,
                    1024
                ],
                "name": "Evaluate Text"
            },
            "641": {
                "id": 641,
                "data": {
                    "value": "content",
                    "success": false
                },
                "inputs": {
                    "trigger": {
                        "connections": [
                            {
                                "node": 634,
                                "output": "trigger",
                                "data": {
                                    "hello": "hello"
                                }
                            },
                            {
                                "node": 661,
                                "output": "trigger",
                                "data": {
                                    "hello": "hello"
                                }
                            },
                            {
                                "node": 662,
                                "output": "trigger",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "input": {
                        "connections": [
                            {
                                "node": 666,
                                "output": "output",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    }
                },
                "outputs": {
                    "trigger": {
                        "connections": [
                            {
                                "node": 642,
                                "input": "trigger",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "output": {
                        "connections": [
                            {
                                "node": 642,
                                "input": "input",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    }
                },
                "position": [
                    1216,
                    928
                ],
                "name": "Extract From Array"
            },
            "642": {
                "id": 642,
                "data": {
                    "success": false
                },
                "inputs": {
                    "trigger": {
                        "connections": [
                            {
                                "node": 641,
                                "output": "trigger",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "input": {
                        "connections": [
                            {
                                "node": 641,
                                "output": "output",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    }
                },
                "outputs": {
                    "trigger": {
                        "connections": [
                            {
                                "node": 643,
                                "input": "trigger",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "output": {
                        "connections": [
                            {
                                "node": 644,
                                "input": "input",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    }
                },
                "position": [
                    1616,
                    928
                ],
                "name": "Array To JSON"
            },
            "643": {
                "id": 643,
                "data": {
                    "inputs": [],
                    "fewshot": "you are a bot that has been asked to summarize the latest events of what's been happening in a discord chat. Call out users names in markdown bold (e.g. **myname**). Summarize each topic that was talked about and bold it. do this all in bullet points separated by a line. if links are provided, always cite them numerically in the summary and provide the list of links referenced at the bottom of your response (do not provide these in markdown - just plain links). Below is the conversation you need to summarize:",
                    "success": false
                },
                "inputs": {
                    "trigger": {
                        "connections": [
                            {
                                "node": 642,
                                "output": "trigger",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    }
                },
                "outputs": {
                    "trigger": {
                        "connections": [
                            {
                                "node": 644,
                                "input": "trigger",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "prompt": {
                        "connections": [
                            {
                                "node": 644,
                                "input": "system",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    }
                },
                "position": [
                    2000,
                    928
                ],
                "name": "Text Template"
            },
            "644": {
                "id": 644,
                "data": {
                    "model": "gpt-3.5-turbo",
                    "top_k": 50,
                    "top_p": 1,
                    "success": false,
                    "temperature": 0.5,
                    "stopSequences": "",
                    "presence_penalty": 0,
                    "frequency_penalty": 0
                },
                "inputs": {
                    "trigger": {
                        "connections": [
                            {
                                "node": 643,
                                "output": "trigger",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "system": {
                        "connections": [
                            {
                                "node": 643,
                                "output": "prompt",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "conversation": {
                        "connections": []
                    },
                    "input": {
                        "connections": [
                            {
                                "node": 642,
                                "output": "output",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "function": {
                        "connections": []
                    }
                },
                "outputs": {
                    "trigger": {
                        "connections": [
                            {
                                "node": 233,
                                "input": "trigger",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "result": {
                        "connections": [
                            {
                                "node": 233,
                                "input": "input",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "error": {
                        "connections": []
                    }
                },
                "position": [
                    2400,
                    928
                ],
                "name": "Generate Text"
            },
            "661": {
                "id": 661,
                "data": {
                    "name": "50",
                    "type": "conversation",
                    "success": false,
                    "max_count": "50",
                    "socketKey": null
                },
                "inputs": {
                    "embedding": {
                        "connections": []
                    },
                    "trigger": {
                        "connections": [
                            {
                                "node": 665,
                                "output": "recap50",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "event": {
                        "connections": [
                            {
                                "node": 242,
                                "output": "output",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "type": {
                        "connections": []
                    }
                },
                "outputs": {
                    "trigger": {
                        "connections": [
                            {
                                "node": 641,
                                "input": "trigger",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "events": {
                        "connections": [
                            {
                                "node": 666,
                                "input": "input",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    }
                },
                "position": [
                    784,
                    1056
                ],
                "name": "Event Recall"
            },
            "662": {
                "id": 662,
                "data": {
                    "name": "100",
                    "type": "conversation",
                    "success": false,
                    "max_count": "50",
                    "socketKey": null
                },
                "inputs": {
                    "embedding": {
                        "connections": []
                    },
                    "trigger": {
                        "connections": [
                            {
                                "node": 665,
                                "output": "recap100",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "event": {
                        "connections": [
                            {
                                "node": 242,
                                "output": "output",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "type": {
                        "connections": []
                    }
                },
                "outputs": {
                    "trigger": {
                        "connections": [
                            {
                                "node": 641,
                                "input": "trigger",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "events": {
                        "connections": [
                            {
                                "node": 666,
                                "input": "input",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    }
                },
                "position": [
                    784,
                    1232
                ],
                "name": "Event Recall"
            },
            "665": {
                "id": 665,
                "data": {
                    "outputs": [
                        {
                            "name": "recap100",
                            "taskType": "option",
                            "socketKey": "recap100",
                            "socketType": "triggerSocket",
                            "connectionType": "output"
                        },
                        {
                            "name": "recap50",
                            "taskType": "option",
                            "socketKey": "recap50",
                            "socketType": "triggerSocket",
                            "connectionType": "output"
                        },
                        {
                            "name": "recap25",
                            "taskType": "option",
                            "socketKey": "recap25",
                            "socketType": "triggerSocket",
                            "connectionType": "output"
                        }
                    ],
                    "success": false
                },
                "inputs": {
                    "input": {
                        "connections": [
                            {
                                "node": 243,
                                "output": "content",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "trigger": {
                        "connections": [
                            {
                                "node": 635,
                                "output": "true",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    }
                },
                "outputs": {
                    "recap100": {
                        "connections": [
                            {
                                "node": 662,
                                "input": "trigger",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "recap50": {
                        "connections": [
                            {
                                "node": 661,
                                "input": "trigger",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "recap25": {
                        "connections": [
                            {
                                "node": 634,
                                "input": "trigger",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    },
                    "default": {
                        "connections": []
                    }
                },
                "position": [
                    400,
                    1056
                ],
                "name": "Switch"
            },
            "666": {
                "id": 666,
                "data": {
                    "name": "Array",
                    "success": false,
                    "socketType": "Array"
                },
                "inputs": {
                    "input": {
                        "connections": [
                            {
                                "node": 634,
                                "output": "events",
                                "data": {
                                    "hello": "hello"
                                }
                            },
                            {
                                "node": 661,
                                "output": "events",
                                "data": {
                                    "hello": "hello"
                                }
                            },
                            {
                                "node": 662,
                                "output": "events",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    }
                },
                "outputs": {
                    "output": {
                        "connections": [
                            {
                                "node": 641,
                                "input": "input",
                                "data": {
                                    "hello": "hello"
                                }
                            }
                        ]
                    }
                },
                "position": [
                    1216,
                    1264
                ],
                "name": "Cast"
            }
        },
        "comments": [
            {
                "text": "Data input from Discord",
                "position": [
                    -458.73859814213836,
                    376.6382334694704
                ],
                "links": [
                    242
                ],
                "type": "frame",
                "width": 330,
                "height": 196
            },
            {
                "text": "Retrieve Discord message content and sender",
                "position": [
                    -458.1917046614752,
                    622.2446646204203
                ],
                "links": [
                    243
                ],
                "type": "frame",
                "width": 330,
                "height": 504
            },
            {
                "text": "Evaluate whether message contains 'recap'",
                "position": [
                    -40.34039135006493,
                    943.5141382669595
                ],
                "links": [
                    635
                ],
                "type": "frame",
                "width": 330,
                "height": 196
            },
            {
                "text": "Based on input, pick whether user input 'recap25', 'recap50', or 'recap100'",
                "position": [
                    337.074415748249,
                    964.5389352076097
                ],
                "links": [
                    665
                ],
                "type": "frame",
                "width": 330,
                "height": 252
            },
            {
                "text": "Above are three different options for recalling conversation based on your query. Each pulls the corresponding number of messages. ",
                "position": [
                    730.7487086951096,
                    1420.948329989426
                ],
                "links": [],
                "type": "frame",
                "width": 330,
                "height": 252
            },
            {
                "text": "Takes a combination of possible array outputs from the events and casts them.",
                "position": [
                    1138.237201581312,
                    1179.2994821256495
                ],
                "links": [
                    666
                ],
                "type": "frame",
                "width": 330,
                "height": 168
            },
            {
                "text": "Extracts the 'content' array from the event.",
                "position": [
                    1154,
                    850
                ],
                "links": [
                    641
                ],
                "type": "frame",
                "width": 330,
                "height": 196
            },
            {
                "text": "Converts the retrieved event array to JSON",
                "position": [
                    1546.1511043457785,
                    848.7322132452839
                ],
                "links": [
                    642
                ],
                "type": "frame",
                "width": 330,
                "height": 196
            },
            {
                "text": "Directive for prompting",
                "position": [
                    1933.3846685365334,
                    848.8309171270363
                ],
                "links": [
                    643
                ],
                "type": "frame",
                "width": 330,
                "height": 196
            },
            {
                "text": "Prompt GPT with conversation and directive",
                "position": [
                    2318.338719068596,
                    844.5434424003557
                ],
                "links": [
                    644
                ],
                "type": "frame",
                "width": 330,
                "height": 280
            },
            {
                "text": "Output GPT response",
                "position": [
                    2699.1229950299366,
                    844.4806345306067
                ],
                "links": [
                    233
                ],
                "type": "frame",
                "width": 330,
                "height": 237
            },
            {
                "text": "Separator/delimiter between username and message",
                "position": [
                    346.6178204373932,
                    527.0413195803743
                ],
                "links": [
                    613
                ],
                "type": "frame",
                "width": 330,
                "height": 168
            },
            {
                "text": "String concatenator",
                "position": [
                    722.1756712553265,
                    523.2989551794916
                ],
                "links": [
                    614
                ],
                "type": "frame",
                "width": 330,
                "height": 252
            },
            {
                "text": "Store conversation events",
                "position": [
                    1161.7636082940808,
                    522.5889990527331
                ],
                "links": [
                    587
                ],
                "type": "frame",
                "width": 330,
                "height": 280
            }
        ]
    }
}
